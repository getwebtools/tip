var tip=(function(){var b={};var g=false;var e={};var h=0;var l={animationDuration:300,easing:"cubic-bezier(0.68,-0.55,0.265,1.55)",toastMaxCount:5};var v={success:{icon:'<svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>',color:"#10b981",bg:"#f0fdf4"},warning:{icon:'<svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/></svg>',color:"#f59e0b",bg:"#fffbeb"},info:{icon:'<svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/></svg>',color:"#3b82f6",bg:"#eff6ff"},error:{icon:'<svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/></svg>',color:"#ef4444",bg:"#fef2f2"}};function n(w){return document.querySelector(w)}function r(w,y,z){var x=document.createElement(w);if(y){x.className=y}if(z){x.innerHTML=z}return x}function t(w,y,x){if(w&&typeof x==="function"){w.addEventListener(y,x)}}function k(w,y,x){if(w&&typeof x==="function"){w.removeEventListener(y,x)}}function o(w){return w+"-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function a(x,y,w){if(!x||typeof x!=="string"){console.warn("tip."+w+": message参数无效");return false}if(y&&typeof y!=="function"){console.warn("tip."+w+": callback参数无效");return false}return true}function i(x,y){var w=n(x);if(!w){console.error("tip."+y+": "+x+"不存在");return null}return w}function m(w){var x=r("div","","");x.id=w;x.style.cssText="background:white;border-radius:12px;box-shadow:0 20px 25px rgba(0,0,0,0.25);max-width:400px;width:90%;margin:20px;transform:scale(0.9);opacity:0;transition:all "+l.animationDuration+"ms "+l.easing;return x}function c(y,w,x){if(y){t(y,"mouseover",function(){this.style.background="#f9fafb";this.style.borderColor="#9ca3af"});t(y,"mouseout",function(){this.style.background="white";this.style.borderColor="#d1d5db"})}if(w){t(w,"mouseover",function(){this.style.background=x==="#ef4444"?"#dc2626":"#2563eb"});t(w,"mouseout",function(){this.style.background=x})}}function s(w){if(w){setTimeout(function(){w.style.transform="scale(1)";w.style.opacity="1"},10)}}function j(){var z=[{id:"toast-container",style:"position: fixed; top: 20px; right: 20px; z-index: 9999; pointer-events: none;"},{id:"modal-container",style:"position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10000; display: none; background: rgba(0,0,0,0.5); align-items: center; justify-content: center;"},{id:"loading-container",style:"position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10001; display: none; background: rgba(0,0,0,0.6); align-items: center; justify-content: center;"}];for(var y=0;y<z.length;y++){var w=z[y];if(!n("#"+w.id)){var x=r("div","","");x.id=w.id;x.style.cssText=w.style;document.body.appendChild(x)}}}function q(){if(!n("#tip-styles")){var w=r("style","","");w.id="tip-styles";w.textContent="@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }";document.head.appendChild(w)}}function f(){if(g){return}j();q();g=true}function p(){if(!g){f()}}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",f)}else{f()}function d(x){var w=n("#"+x);if(w&&w.parentNode){w.parentNode.removeChild(w)}delete e[x]}function u(w){var x=document.createElement("div");x.textContent=w;return x.innerHTML}return{toast:function(G,E,H){p();if(!a(G,null,"toast")){return}E=E||"info";H=H||{};var F=H.time||3;if(F<=0){console.warn("tip.toast: displayTime必须为正数");F=3}var y=i("#toast-container","toast");if(!y){return}var A=v[E];if(!A){console.warn("tip.toast: 无效的type类型:",E);E="info";A=v[E]}var w=o("toast");var x="background:"+A.bg+";border-radius:8px;box-shadow:0 10px 25px rgba(0,0,0,0.15);padding:16px 20px;margin-bottom:10px;min-width:300px;max-width:400px;transform:translateX(100%);opacity:0;transition:all "+l.animationDuration+"ms "+l.easing+";pointer-events:auto;position:relative;overflow:hidden";var D=r("div","","");D.id=w;D.style.cssText=x;var C=u(G);D.innerHTML='<div style="display:flex;align-items:flex-start;gap:12px"><div style="flex-shrink:0;width:20px;height:20px;margin-top:2px;color:'+A.color+'">'+A.icon+'</div><p style="flex:1;font-size:14px;line-height:1.5;color:#1f2937;margin:0">'+C+"</p></div>";if(y.children.length>=l.toastMaxCount){var B=y.firstElementChild;if(B){var z=B.id;y.removeChild(B);delete e[z]}}y.appendChild(D);e[w]=true;setTimeout(function(){if(e[w]){D.style.transform="translateX(0)";D.style.opacity="1"}},10);setTimeout(function(){if(e[w]){D.style.transform="translateX(100%)";D.style.opacity="0";setTimeout(function(){d(w)},l.animationDuration)}},F*1000);return w},confirm:function(K,H,L){p();if(!a(K,H,"confirm")){return}L=L||{};var E=L.title||"确认";var F=L.confirmText||"确定";var y=L.cancelText||"取消";var x=i("#modal-container","confirm");if(!x){return}var I=o("modal");var w=m(I);var J=u(E);var B=u(K);var G=u(F);var A=u(y);w.innerHTML='<div style="padding:24px 24px 0"><h3 style="margin:0 0 16px;font-size:18px;font-weight:600;color:#1f2937">'+J+'</h3><p style="margin:0;font-size:14px;line-height:1.6;color:#6b7280">'+B+'</p></div><div style="padding:16px 24px 24px;display:flex;gap:12px;justify-content:flex-end"><button id="cancel-'+I+'" style="padding:8px 16px;border:1px solid #d1d5db;background:white;border-radius:6px;color:#6b7280;cursor:pointer;font-size:14px;transition:all 0.2s">'+A+'</button><button id="confirm-'+I+'" style="padding:8px 16px;border:none;background:#ef4444;border-radius:6px;color:white;cursor:pointer;font-size:14px;transition:all 0.2s">'+G+"</button></div>";x.innerHTML="";x.appendChild(w);x.style.display="flex";b[I]=H;var D=n("#cancel-"+I);var z=n("#confirm-"+I);t(D,"click",function(){tip.closeModal(I,false)});t(z,"click",function(){tip.closeModal(I,true)});t(x,"click",function(M){if(M.target===x){tip.closeModal(I,false)}});var C=function(M){if(M.keyCode===13){M.preventDefault();tip.closeModal(I,true)}else{if(M.keyCode===27){M.preventDefault();tip.closeModal(I,false)}}};t(document,"keydown",C);b[I+"_keydown"]=C;c(D,z,"#ef4444");s(w);return I},prompt:function(D,y,w){p();if(!a(D,y,"prompt")){return}w=w||{};var Q=w.title||"请输入";var z=w.placeholder||"";var L=w.defaultValue||"";var G=w.confirmText||"确定";var E=w.cancelText||"取消";var F=i("#modal-container","prompt");if(!F){return}var K=o("modal");var J=m(K);var P=u(Q);var x=u(D);var O=u(z);var M=u(L);var I=u(G);var N=u(E);J.innerHTML='<div style="padding:24px 24px 0"><h3 style="margin:0 0 16px;font-size:18px;font-weight:600;color:#1f2937">'+P+'</h3><p style="margin:0 0 16px;font-size:14px;line-height:1.6;color:#6b7280">'+x+'</p><input id="prompt-input-'+K+'" type="text" value="'+M+'" placeholder="'+O+'" style="width:100%;padding:10px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;box-sizing:border-box"></div><div style="padding:16px 24px 24px;display:flex;gap:12px;justify-content:flex-end"><button id="cancel-'+K+'" style="padding:8px 16px;border:1px solid #d1d5db;background:white;border-radius:6px;color:#6b7280;cursor:pointer;font-size:14px;transition:all 0.2s">'+N+'</button><button id="confirm-'+K+'" style="padding:8px 16px;border:none;background:#3b82f6;border-radius:6px;color:white;cursor:pointer;font-size:14px;transition:all 0.2s">'+I+"</button></div>";F.innerHTML="";F.appendChild(J);F.style.display="flex";b[K]=y;var C=n("#prompt-input-"+K);var H=n("#cancel-"+K);var A=n("#confirm-"+K);t(H,"click",function(){tip.closeModal(K,false)});t(A,"click",function(){tip.closeModal(K,true)});t(F,"click",function(R){if(R.target===F){tip.closeModal(K,false)}});c(H,A,"#3b82f6");if(C){t(C,"focus",function(){this.style.borderColor="#3b82f6";this.style.boxShadow="0 0 0 3px rgba(59,130,246,0.1)"});t(C,"blur",function(){this.style.borderColor="#d1d5db";this.style.boxShadow="none"})}var B=function(R){if(R.keyCode===13){R.preventDefault();tip.closeModal(K,true)}else{if(R.keyCode===27){R.preventDefault();tip.closeModal(K,false)}}};t(document,"keydown",B);b[K+"_keydown"]=B;s(J);setTimeout(function(){if(C){C.focus();C.select()}},10);return K},closeModal:function(x,A){var y=n("#"+x);if(!y){return}var z=n("#prompt-input-"+x);var w=z?z.value:null;y.style.transform="scale(0.9)";y.style.opacity="0";setTimeout(function(){var C=n("#modal-container");if(C){C.style.display="none";C.innerHTML=""}var B=b[x+"_keydown"];if(B){k(document,"keydown",B);delete b[x+"_keydown"]}var E=b[x];if(E){try{if(z){if(A){E(w)}else{E(null)}}else{E(A)}}catch(D){console.error("tip.closeModal: 回调函数执行错误:",D)}delete b[x]}},l.animationDuration)},loading:{show:function(z){p();var A=z||"加载中...";var w=i("#loading-container","loading.show");if(!w){return}h++;var x=r("div","","");x.style.cssText="background:white;border-radius:12px;box-shadow:0 20px 25px rgba(0,0,0,0.25);padding:24px;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;transform:scale(0.9);opacity:0;transition:all "+l.animationDuration+"ms "+l.easing;var y=u(A);x.innerHTML='<div style="width:30px;height:30px;border:2px solid #e5e7eb;border-top:2px solid #3b82f6;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:12px"></div><p style="margin:0;font-size:14px;color:#6b7280">'+y+"</p>";w.innerHTML="";w.appendChild(x);w.style.display="flex";s(x)},hide:function(){h--;if(h>0){return}h=0;var w=n("#loading-container");if(!w){return}var x=w.firstElementChild;if(x){x.style.transform="scale(0.9)";x.style.opacity="0"}setTimeout(function(){w.style.display="none";w.innerHTML=""},l.animationDuration)}},success:function(x,w){return this.toast(x,"success",w)},error:function(x,w){return this.toast(x,"error",w)},info:function(x,w){return this.toast(x,"info",w)},warning:function(x,w){return this.toast(x,"warning",w)},showLoading:function(w){return this.loading.show(w)},closeLoading:function(){return this.loading.hide()},closeToast:function(w){if(w&&e[w]){d(w)}},clearToasts:function(){var w=n("#toast-container");if(w){w.innerHTML=""}e={}},closeAllModals:function(){var w=n("#modal-container");if(w){w.style.display="none";w.innerHTML=""}for(var y in b){if(y.indexOf("_keydown")!==-1){var x=b[y];if(x){k(document,"keydown",x)}}}b={}},closeAllLoading:function(){var w=n("#loading-container");if(w){w.style.display="none";w.innerHTML=""}h=0},clearAll:function(){this.clearToasts();this.closeAllModals();this.closeAllLoading()},destroy:function(){this.clearAll();var z=["#toast-container","#modal-container","#loading-container"];for(var x=0;x<z.length;x++){var w=n(z[x]);if(w&&w.parentNode){w.parentNode.removeChild(w)}}var y=n("#tip-styles");if(y&&y.parentNode){y.parentNode.removeChild(y)}g=false;e={};b={};h=0},config:function(w){if(typeof w==="object"&&w!==null){if(typeof w.animationDuration==="number"&&w.animationDuration>0){l.animationDuration=w.animationDuration}if(typeof w.easing==="string"){l.easing=w.easing}if(typeof w.toastMaxCount==="number"&&w.toastMaxCount>0){l.toastMaxCount=w.toastMaxCount}}},getConfig:function(){return{animationDuration:l.animationDuration,easing:l.easing,toastMaxCount:l.toastMaxCount}},init:function(){f()}}})();